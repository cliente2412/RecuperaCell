<!doctype html> 
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Recupera Cell â€” Loja</title>
  <style>
    :root {
      --bg:#000;
      --accent:#ff7a00;
      --card:#111;
      --glass:rgba(255,255,255,0.03);
    }
    * { box-sizing:border-box; }
    body {
      margin:0;
      font-family:Inter,-apple-system,Segoe UI,Roboto,Arial;
      background:linear-gradient(180deg,var(--bg),#070707);
      color:#fff;
    }

    .topbar {
      display:flex;align-items:center;justify-content:space-between;
      padding:14px 20px;
      background:rgba(0,0,0,0.6);
      border-bottom:1px solid rgba(255,255,255,.05);
      position:sticky;top:0;z-index:10;
    }
    .brand { display:flex;align-items:center;gap:10px; }
    .logo { width:42px;height:42px;border-radius:8px;
      background:linear-gradient(135deg,var(--accent),#ff4b00);
      display:flex;align-items:center;justify-content:center;font-weight:700;color:#111;
    }
    nav { display:flex;gap:8px;align-items:center; }

    .container { max-width:1100px;margin:18px auto;padding:0 16px; }
    .grid { display:grid;grid-template-columns:1fr 340px;gap:20px; }

    .products {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:14px;
    }

    .card {
      background:var(--card);
      padding:14px;border-radius:10px;
      border:1px solid rgba(255,255,255,0.06);
      display:flex;gap:10px;align-items:center;
    }
    .thumb {width:80px;height:80px;border-radius:8px;background:#222;display:flex;align-items:center;justify-content:center;}
    .btn {background:var(--accent);border:0;padding:8px 12px;border-radius:8px;color:#111;font-weight:700;cursor:pointer;}
    .btn.ghost {background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff;}

    .cart {
      position:sticky;top:80px;
      background:#0b0b0b;
      padding:14px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.06);
    }

    .cart h2 {margin-top:0;}
    .cart-items {max-height:260px;overflow:auto;margin:8px 0;}
    .cart-item {display:flex;justify-content:space-between;gap:8px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.02);margin-bottom:8px;font-size:14px;}
    .checkout label {display:block;font-size:13px;margin:8px 0 6px;color:#ddd;}
    input,textarea {width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:#070707;color:#fff;}

    footer {margin-top:24px;padding:12px;text-align:center;color:#aaa;font-size:14px;}

    /* RESPONSIVO MOBILE */
    @media (max-width:900px){
      .grid { grid-template-columns:1fr; }
      .cart {
        position:fixed;
        bottom:10px;left:50%;
        transform:translateX(-50%);
        width:80%;
        max-width:380px;
        font-size:14px;
        padding:10px;
        box-shadow:0 0 12px rgba(0,0,0,0.6);
        z-index:50;
      }
      .cart h2 {font-size:16px;margin-bottom:6px;}
      .btn {padding:8px 10px;font-size:13px;}
      input,textarea {font-size:13px;}
    }

    @media (max-width:420px){
      .cart {width:90%;max-width:320px;padding:8px;}
      .btn {font-size:12px;padding:6px 8px;}
      input,textarea {font-size:12px;}
      .cart h2 {font-size:15px;}
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">RC</div>
      <div>
        <h1 style="font-size:18px;margin:0;">Recupera Cell</h1>
        <small style="color:#bbb;">ManutenÃ§Ã£o & AcessÃ³rios</small>
      </div>
    </div>
    <nav>
      <button class="btn ghost" id="open-cart">ðŸ›’ Carrinho</button>
    </nav>
  </header>

  <main class="container">
    <div class="grid">
      <section>
        <h2>Produtos</h2>
        <div id="products" class="products"></div>
      </section>

      <aside class="cart" id="cart-panel">
        <h2>Seu Carrinho</h2>
        <div class="cart-items" id="cart-items"></div>
        <div class="checkout">
          <label for="phone">NÃºmero (WhatsApp)</label>
          <input id="phone" placeholder="(55)24988421242" />
          <label for="obs">ObservaÃ§Ãµes</label>
          <textarea id="obs" rows="2" placeholder="Ex: modelo, horÃ¡rio..."></textarea>
          <button class="btn" id="place-order" style="width:100%;margin-top:10px;">
            Simular Pedido / WhatsApp
          </button>
        </div>
      </aside>
    </div>

    <footer>
      Desenvolvedor: <b>Eliseu Tach ManutenÃ§Ã£o</b> â€” Recupera Cell Â© <span id="year"></span>
    </footer>
  </main>

  <script>
    const WHATSAPP_NUMBER = '5524988421242';
    const PRODUCTS = [
      {id:1,name:'Troca de Tela iPhone 11',price:249.00},
      {id:2,name:'Bateria iPhone XR',price:129.00},
      {id:3,name:'Capinha Silicone',price:39.90},
      {id:4,name:'PelÃ­cula 3D',price:29.90},
    ];

    const money = v => v.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});
    let CART = JSON.parse(localStorage.getItem('rc_cart')||'{}');

    function save(){localStorage.setItem('rc_cart',JSON.stringify(CART));renderCart();}

    function renderProducts(){
      const wrap=document.getElementById('products');wrap.innerHTML='';
      for(const p of PRODUCTS){
        const el=document.createElement('article');
        el.className='card';
        el.innerHTML=`<div class="thumb">ðŸ“±</div>
          <div style="flex:1">
            <h3 style="margin:0;font-size:15px">${p.name}</h3>
            <div style="color:var(--accent);font-weight:700">${money(p.price)}</div>
            <button class="btn" data-id="${p.id}">Adicionar</button>
          </div>`;
        wrap.appendChild(el);
      }
      wrap.querySelectorAll('.btn').forEach(b=>b.onclick=()=>addToCart(Number(b.dataset.id)));
    }

    function addToCart(id){
      const p=PRODUCTS.find(x=>x.id===id);
      if(!p) return;
      if(!CART[id]) CART[id]={...p,qty:0};
      CART[id].qty++; save();
    }

    function renderCart(){
      const wrap=document.getElementById('cart-items');
      wrap.innerHTML='';
      let total=0;
      for(const it of Object.values(CART)){
        total+=it.price*it.qty;
        wrap.innerHTML+=`
        <div class="cart-item">
          <div>${it.name} (${it.qty}x)</div>
          <div><b>${money(it.price*it.qty)}</b></div>
        </div>`;
      }
      if(Object.keys(CART).length===0)
        wrap.innerHTML='<div style="color:#888;font-size:13px;">Carrinho vazio</div>';
    }

    document.getElementById('place-order').onclick=()=>{
      if(Object.keys(CART).length===0){alert('Carrinho vazio!');return;}
      const phone=document.getElementById('phone').value.trim();
      const obs=document.getElementById('obs').value.trim();
      const total=Object.values(CART).reduce((s,i)=>s+i.price*i.qty,0);
      let msg='*Pedido Recupera Cell*%0A';
      for(const i of Object.values(CART))
        msg+=`â€¢ ${i.name} (${i.qty}x ${money(i.price)})%0A`;
      msg+=`%0A*Total:* ${money(total)}%0A`;
      if(phone) msg+=`ðŸ“ž ${encodeURIComponent(phone)}%0A`;
      if(obs) msg+=`ðŸ“ ${encodeURIComponent(obs)}%0A`;
      window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`,'_blank');
    };

    document.getElementById('year').textContent=new Date().getFullYear();
    renderProducts(); renderCart();
    document.getElementById('open-cart').onclick=()=>document.getElementById('cart-panel').scrollIntoView({behavior:'smooth'});
  </script>
</body>
</html>
